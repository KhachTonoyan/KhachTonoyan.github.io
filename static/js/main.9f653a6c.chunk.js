(this.webpackJsonpweaterweater=this.webpackJsonpweaterweater||[]).push([[0],{165:function(e,t,a){e.exports=a(372)},170:function(e,t,a){},175:function(e,t,a){},371:function(e,t,a){},372:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(66),i=a.n(c),l=(a(170),a(46)),o=a(24);var s=Object(o.f)((function(e){var t=e.change,a=e.submit,n=e.getInputValue,c=e.history;return console.log(n),r.a.createElement("form",{className:"searchBox",onSubmit:function(e){c.replace("/"),e.preventDefault(),a()}},r.a.createElement("input",{placeholder:"Search",className:"searchInput",type:"text",onChange:function(e){return t(e.target.value)},value:n}),r.a.createElement("button",{className:"searchButton",type:"submit"},r.a.createElement("i",{className:"material-icons"},"search")))})),u="https://api.openweathermap.org/data/2.5/forecast?q=",m="ae0c02751689154dbb2d92ac0a81e6dd",d=a(101),p=a(383);var h=function(e){return e-273.15},g="http://openweathermap.org/img/wn/",f=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];var y=Object(o.f)((function(e){var t=e.days,a=e.history,n=[{name:"sunday",val:[],id:0,img:[]},{name:"monday",val:[],id:0,img:[]},{name:"tuesday",val:[],id:0,img:[]},{name:"wednesday",val:[],id:0,img:[]},{name:"thursday",val:[],id:0,img:[]},{name:"friday",val:[],id:0,img:[]},{name:"saturday",val:[],id:0,img:[]}];return t.list.forEach((function(e){n[new Date(e.dt_txt).getDay()].val.push(Math.round(h(e.main.temp))),n[new Date(e.dt_txt).getDay()].id=e.dt,n[new Date(e.dt_txt).getDay()].img.push(parseInt(e.weather[0].icon)),n[new Date(e.dt_txt).getDay()].dayImg=g+function(e){var t=e.reduce((function(e,t){return e[t]=(e[t]||0)+1,e}),{}),a=[];for(var n in t)a.push(t[n]);var r,c=Math.max.apply(Math,a);for(var i in t)t[i]===c&&(r=i<10?"0"+i:i);return r}(n[new Date(e.dt_txt).getDay()].img)+"d@2x.png",n[new Date(e.dt_txt).getDay()].day=new Date(e.dt_txt).getDay()})),n.sort((function(e,t){return e.id-t.id})),r.a.createElement(p.a,{style:{display:"flex",textAlign:"center",flexDirection:"column"}},r.a.createElement("p",{style:{fontSize:"25px"}},t.city.name||"We can't find this page"),r.a.createElement(p.a,{style:{display:"inline-flex",padding:"10px"}},n.map((function(e,t){return e.id?r.a.createElement(p.a,{key:e.id,style:{width:"180px",height:"220px",border:"0.5px solid #84A7DF",borderRadius:"5%",background:"rgba(255, 255, 255, 0.4)",cursor:"pointer",marginLeft:"15px"},onClick:function(){return a.push("".concat(e.day))}},e.name.toUpperCase(),r.a.createElement("p",null,"Max Temp:",Math.round(Math.max.apply(Math,Object(d.a)(e.val)))," C"),r.a.createElement("p",null,"Min Temp:",Math.round(Math.min.apply(Math,Object(d.a)(e.val)))," C"),r.a.createElement("p",null,r.a.createElement("img",{alt:"",src:e.dayImg}))):""}))))}));var E=function(e){var t=e.days;return r.a.createElement("div",null,t.list?r.a.createElement(y,{days:t}):r.a.createElement("p",{style:{fontSize:"25px"}},"We can't find this city"))};a(175);var v=function(){return r.a.createElement("div",{className:"lds-dual-ring"})},x=a(36);var b=function(e){var t=e.days,a=e.info,n={name:"",val:[],id:[],img:[],time:[]};return console.log(t),t.list&&t.list.forEach((function(e){+a.match.params.day===new Date(e.dt_txt).getDay()?(n.val.push(Math.round(h(e.main.temp))),n.id.push(e.dt),n.time.push(e.dt_txt.slice(-8,-3)),n.img.push(g+e.weather[0].icon+"@2x.png"),n.name=f[+a.match.params.day]):+a.match.params.day>=0&&+a.match.params.day<=6||(n.error="We can't find this page")})),console.log(n),r.a.createElement(p.a,{style:{display:"flex",textAlign:"center",flexDirection:"column"}},r.a.createElement(x.b,{to:"/",activeClassName:"none"},r.a.createElement("p",{style:{fontSize:"25px",textDecoration:"none"}},n.name.toUpperCase()||"We can't find this page")),r.a.createElement(p.a,{style:{display:"inline-flex"}},n.val&&n.val.map((function(e,t){return n.name?r.a.createElement(p.a,{key:n.id[t],style:{width:"145px",height:"200px",border:"0.5px solid #84A7DF",borderRadius:"5%",background:"rgba(255, 255, 255, 0.4)"}},n.time[t],r.a.createElement("p",null,"Temp: ",e," C"),r.a.createElement("p",null,r.a.createElement("img",{alt:"",src:n.img[t]}))):"We can't find this page"}))))},w=a(70);var D=Object(w.withScriptjs)(Object(w.withGoogleMap)((function(e){var t=e.loc;return r.a.createElement(p.a,null,r.a.createElement(w.GoogleMap,{defaultZoom:12,defaultCenter:{lat:t.lat,lng:t.lon}}))})));a(371);var j=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)({}),d=Object(l.a)(i,2),h=d[0],g=d[1],f=Object(n.useState)(!1),y=Object(l.a)(f,2),w=y[0],j=y[1],M=Object(n.useState)({}),O=Object(l.a)(M,2),S=O[0],C=O[1];return Object(n.useEffect)((function(){var e,t;navigator.geolocation.getCurrentPosition((function(a){C({lat:a.coords.latitude,lon:a.coords.longitude}),e=a.coords.latitude,t=a.coords.longitude,fetch("https://eu1.locationiq.com/v1/reverse.php?key=b4ace2db544ce9"+"&accept-language=en&lat=".concat(e,"&lon=").concat(t,"&format=json")).then((function(e){return e.json()})).then((function(e){j(!0),fetch(u+e.address.city+"&appid="+m).then((function(e){return e.json()})).then((function(e){g(e),j(!1)})).catch((function(e){console.log(e)}))}))}))}),[]),r.a.createElement(x.a,null,r.a.createElement(p.a,{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"}},r.a.createElement(s,{getInputValue:a,change:function(e){c(e)},submit:function(){j(!0),fetch(u+a+"&appid="+m).then((function(e){return e.json()})).then((function(e){g(e),c(""),j(!1)})).catch((function(e){console.log(e)}))}}),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",exact:!0},w?r.a.createElement(v,null):r.a.createElement(E,{days:h})),r.a.createElement(o.a,{path:"/:day",render:function(e){return r.a.createElement(b,{days:h,info:e})}}))),r.a.createElement(p.a,{style:{width:"400px",height:"400px",position:"absolute",right:0,bottom:0,padding:0}},r.a.createElement(D,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyBDu59GSq1W5j5cl-EfMMXhGfAbAxdu2TA",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"100%"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}}),loc:S})))};i.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[165,1,2]]]);
//# sourceMappingURL=main.9f653a6c.chunk.js.map